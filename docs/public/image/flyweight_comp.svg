<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="443px" preserveAspectRatio="none" style="width:521px;height:443px;background:transparent;" version="1.1" viewBox="0 0 521 443" width="521px" zoomAndPan="magnify"><defs/><g><rect fill="transparent" height="443" style="stroke:none;stroke-width:1;" width="521" x="0" y="0"/><!--class FlyweightFactory--><g class="entity" data-entity="FlyweightFactory" data-source-line="10" data-uid="ent0002" id="entity_FlyweightFactory"><rect fill="#F1F1F1" height="80.5938" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="313.1572" x="109.91" y="7"/><ellipse cx="206.5919" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M209.5606,28.6406 Q208.9825,28.9375 208.3419,29.0781 Q207.7013,29.2344 206.9981,29.2344 Q204.4981,29.2344 203.17,27.5938 Q201.8575,25.9375 201.8575,22.8125 Q201.8575,19.6875 203.17,18.0313 Q204.4981,16.375 206.9981,16.375 Q207.7013,16.375 208.3419,16.5313 Q208.9981,16.6875 209.5606,16.9844 L209.5606,19.7031 Q208.9356,19.125 208.3419,18.8594 Q207.7481,18.5781 207.1231,18.5781 Q205.7794,18.5781 205.0919,19.6563 Q204.4044,20.7188 204.4044,22.8125 Q204.4044,24.9063 205.0919,25.9844 Q205.7794,27.0469 207.1231,27.0469 Q207.7481,27.0469 208.3419,26.7813 Q208.9356,26.5 209.5606,25.9219 L209.5606,28.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.2935" x="227.0919" y="27.5005">FlyweightFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="110.91" x2="422.0672" y1="39" y2="39"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="117.91" y="49.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="287.1572" x="129.91" y="55.9951">flyweights : HashMap&lt;String,Flyweight&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="110.91" x2="422.0672" y1="63.2969" y2="63.2969"/><ellipse cx="120.91" cy="76.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258.3438" x="129.91" y="80.292">getFlyweight(key: String) : Flyweight</text></g><!--class Flyweight--><g class="entity" data-entity="Flyweight" data-source-line="15" data-uid="ent0003" id="entity_Flyweight"><rect fill="#F1F1F1" height="64.2969" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="200.9863" x="166" y="162.59"/><ellipse cx="230.9365" cy="178.59" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M226.8584,174.3556 L226.8584,172.1994 L234.249,172.1994 L234.249,174.3556 L231.7803,174.3556 L231.7803,182.4338 L234.249,182.4338 L234.249,184.59 L226.8584,184.59 L226.8584,182.4338 L229.3271,182.4338 L229.3271,174.3556 L226.8584,174.3556 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="62.6133" x="251.4365" y="183.0905">Flyweight</text><line style="stroke:#181818;stroke-width:0.5;" x1="167" x2="365.9863" y1="194.59" y2="194.59"/><line style="stroke:#181818;stroke-width:0.5;" x1="167" x2="365.9863" y1="202.59" y2="202.59"/><ellipse cx="177" cy="216.2384" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174.9863" x="186" y="219.5851">operation(extrinsicState)</text></g><!--class ConcreteFlyweight--><g class="entity" data-entity="ConcreteFlyweight" data-source-line="19" data-uid="ent0004" id="entity_ConcreteFlyweight"><rect fill="#F1F1F1" height="87.6953" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="200.9863" x="7" y="332.19"/><ellipse cx="43.3829" cy="351.7408" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M46.3517,357.3814 Q45.7735,357.6783 45.1329,357.8189 Q44.4923,357.9752 43.7892,357.9752 Q41.2892,357.9752 39.961,356.3345 Q38.6485,354.6783 38.6485,351.5533 Q38.6485,348.4283 39.961,346.772 Q41.2892,345.1158 43.7892,345.1158 Q44.4923,345.1158 45.1329,345.272 Q45.7892,345.4283 46.3517,345.7252 L46.3517,348.4439 Q45.7267,347.8658 45.1329,347.6002 Q44.5392,347.3189 43.9142,347.3189 Q42.5704,347.3189 41.8829,348.397 Q41.1954,349.4595 41.1954,351.5533 Q41.1954,353.647 41.8829,354.7252 Q42.5704,355.7877 43.9142,355.7877 Q44.5392,355.7877 45.1329,355.522 Q45.7267,355.2408 46.3517,354.6627 L46.3517,357.3814 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="36.9785" x="104.3798" y="348.3287">&#171;leaf&#187;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.4688" x="62.1347" y="363.2256">ConcreteFlyweight</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="206.9863" y1="371.2916" y2="371.2916"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="15" y="381.94"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.709" x="27" y="388.2867">intrinsicState</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="206.9863" y1="395.5884" y2="395.5884"/><ellipse cx="18" cy="409.2369" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174.9863" x="27" y="412.5836">operation(extrinsicState)</text></g><!--class CompositeConcreteFlyweight--><g class="entity" data-entity="CompositeConcreteFlyweight" data-source-line="24" data-uid="ent0005" id="entity_CompositeConcreteFlyweight"><rect fill="#F1F1F1" height="120.2891" rx="3.5" ry="3.5" style="stroke:#181818;stroke-width:0.5;" width="271.3555" x="242.82" y="315.89"/><ellipse cx="279.6481" cy="335.4408" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M282.6168,341.0814 Q282.0387,341.3783 281.3981,341.5189 Q280.7575,341.6752 280.0543,341.6752 Q277.5543,341.6752 276.2262,340.0345 Q274.9137,338.3783 274.9137,335.2533 Q274.9137,332.1283 276.2262,330.472 Q277.5543,328.8158 280.0543,328.8158 Q280.7575,328.8158 281.3981,328.972 Q282.0543,329.1283 282.6168,329.4252 L282.6168,332.1439 Q281.9918,331.5658 281.3981,331.3002 Q280.8043,331.0189 280.1793,331.0189 Q278.8356,331.0189 278.1481,332.097 Q277.4606,333.1595 277.4606,335.2533 Q277.4606,337.347 278.1481,338.4252 Q278.8356,339.4877 280.1793,339.4877 Q280.8043,339.4877 281.3981,339.222 Q281.9918,338.9408 282.6168,338.3627 L282.6168,341.0814 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="76.9453" x="355.4504" y="332.0287">&#171;composite&#187;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.8486" x="298.4988" y="346.9256">CompositeConcreteFlyweight</text><line style="stroke:#181818;stroke-width:0.5;" x1="243.82" x2="513.1755" y1="354.9916" y2="354.9916"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="250.82" y="365.64"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245.3555" x="262.82" y="371.9867">flyweights : Collection&lt;Flyweight&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="243.82" x2="513.1755" y1="379.2884" y2="379.2884"/><ellipse cx="253.82" cy="392.9369" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174.9863" x="262.82" y="396.2836">operation(extrinsicState)</text><ellipse cx="253.82" cy="409.2338" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.1787" x="262.82" y="412.5804">add(flyweight: Flyweight)</text><ellipse cx="253.82" cy="425.5306" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.2969" x="262.82" y="428.8773">remove(flyweight: Flyweight)</text></g><!--link FlyweightFactory to Flyweight--><g class="link" data-entity-1="FlyweightFactory" data-entity-2="Flyweight" data-source-line="32" data-uid="lnk6" id="link_FlyweightFactory_Flyweight"><path codeLine="32" d="M266.49,88.04 C266.49,111.42 266.49,134.58 266.49,156.34" fill="none" id="FlyweightFactory-to-Flyweight" style="stroke:#191919;stroke-width:1;"/><polygon fill="#191919" points="266.49,162.34,270.49,153.34,266.49,157.34,262.49,153.34,266.49,162.34" style="stroke:#191919;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44.6074" x="267.49" y="129.7287">creates</text></g><!--reverse link Flyweight to ConcreteFlyweight--><g class="link" data-entity-1="Flyweight" data-entity-2="ConcreteFlyweight" data-source-line="33" data-uid="lnk7" id="link_Flyweight_ConcreteFlyweight"><path codeLine="33" d="M196.752,237.6611 C184.382,246.2811 186.68,245.99 176.49,256.89 C155.98,278.85 138.89,307.96 126.85,331.78" fill="none" id="Flyweight-backto-ConcreteFlyweight" style="stroke:#191919;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="211.52,227.37,193.3216,232.7384,200.1823,242.5837,211.52,227.37" style="stroke:#191919;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70.9922" x="177.49" y="276.0287">implements</text></g><!--reverse link Flyweight to CompositeConcreteFlyweight--><g class="link" data-entity-1="Flyweight" data-entity-2="CompositeConcreteFlyweight" data-source-line="34" data-uid="lnk8" id="link_Flyweight_CompositeConcreteFlyweight"><path codeLine="34" d="M255.4655,245.0825 C252.5055,263.1225 254.67,267.89 263.49,285.89 C268.77,296.67 276.05,306.51 284.41,315.4" fill="none" id="Flyweight-backto-CompositeConcreteFlyweight" style="stroke:#191919;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="258.38,227.32,249.5447,244.111,261.3864,246.054,258.38,227.32" style="stroke:#191919;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70.9922" x="264.49" y="276.0287">implements</text></g><!--link CompositeConcreteFlyweight to Flyweight--><g class="link" data-entity-1="CompositeConcreteFlyweight" data-entity-2="Flyweight" data-source-line="35" data-uid="lnk9" id="link_CompositeConcreteFlyweight_Flyweight"><path codeLine="35" d="M362.3794,304.1028 C356.4094,284.3428 351.38,274.41 339.49,256.89 C332.07,245.95 326.7043,239.7762 316.5843,231.0962" fill="none" id="CompositeConcreteFlyweight-Flyweight" style="stroke:#191919;stroke-width:1;"/><polygon fill="none" points="365.85,315.59,367.9438,308.6896,362.3794,304.1028,360.2857,311.0033,365.85,315.59" style="stroke:#191919;stroke-width:1;"/><polygon fill="#191919" points="312.03,227.19,316.2572,236.0855,315.8252,230.4452,321.4656,230.0132,312.03,227.19" style="stroke:#191919;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="21.2637" x="354.49" y="269.0287">1..*</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="3.8145" x="363.2146" y="282.9974">&#160;</text></g><!--SRC=[ZL8zJyCm4DtzAuwfBQMH2biKPQbKiR1GHfQJSsciEhRbimZbux_Zf3H9eKMixzwNNpA1fufg0dHEAsB0Cf07SHKwj4RFGl1E6OSUQtWN05nXOHjbjb2YPeg8rCYyjYPir1l1yYv2wBrj1kXMV0hHqM2jzmsfRHNMA8Fr-yvp0UKHPaZX7hbwG9TjWeyvDxqaZzGvR2dqo7H7-nGEl5bKzeSsK9dubX8b3N2NDWVho6DGrapfjTMoafk0WMP3pvKrqbEWGPfbe0bBoFFlpj5_fFs_SUqigq1d4-JnEiISJBEoMfDi4x8ViroERgzO5DFUQBJJuUgfjYzqWH2RJ-2HT6VEbN8CZGeL5CeVch3uzL4NYtmqUWhneR7AY0ZPHvAS6Ja5LJiT_pqJph0lBdSY-uDdVnPR9idri_a2]--></g></svg>